<div [ngClass]="{ 'carousel-component': true, 'dark-theme': isDarkMode }">
  <header
    class="fs-4 col-lg-2 col-3 offset-lg-2"
    [innerHTML]="caption"
  ></header>
  <section class="row align-items-center">
    <div
      [ngClass]="{
        'col-2': item !== selectedItem && view === 'desktop',
        'col-4': item === selectedItem && view === 'desktop',
        'col-3': item !== selectedItem && view === 'tablet',
        'col-6': item === selectedItem && view === 'tablet'
      }"
      *ngFor="let item of sortedItems; index as idx"
    >
      <app-carousel-card
        [item]="item"
        [selected]="item === selectedItem"
        [ngClass]="{ 'd-none': !itemVisible(idx) }"
      ></app-carousel-card>
    </div>
  </section>
  <footer class="row justify-content-between">
    <div class="col-lg-4 col-md-2 text-end">
      <div class="me-4">
        <button
          class="btn btn-dark btn-left rounded-circle border-0"
          (click)="back()"
        >
          <i class="bi bi-chevron-left"></i>
        </button>
      </div>
    </div>
    <div class="col-lg-4 col-md-2 text-start ps-3">
      <div class="ms-4">
        <button
          class="btn btn-dark btn-right rounded-circle border-0"
          (click)="next()"
        >
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>
    </div>
  </footer>
</div>
